jQuery(document).ready(function(){function e(e){var t=JSON.parse(localStorage.getItem("clients"));for(i=0;i<t.length;i++)if(t[i].id===e)return t.splice(i,1),void localStorage.setItem("clients",JSON.stringify(t))}function t(e){var t=JSON.parse(window.localStorage.getItem("clients"));t?(t.push(e),window.localStorage.setItem("clients",JSON.stringify(t))):window.localStorage.setItem("clients",JSON.stringify([e]))}var a=localStorage.getItem("logged_user");jQuery("#menu-user-name").html("Hi "+a),"admin"!==a&&jQuery(".user-item-to-hide").hide(),function(){for(var e=window.location.search.substr("?id=".length),t=JSON.parse(localStorage.getItem("clients")),i=0;i<t.length;i++){var a=t[i];if(a.id===e){jQuery("#id").val(a.id),jQuery("#first-name").val(a.firstName),jQuery("#last-name").val(a.lastName),jQuery("#phone").val(a.phone);break}}}(),jQuery("#logout").click(function(){localStorage.removeItem("logged_user"),window.location.replace("index.html")}),jQuery("#btn-new").click(function(){window.location.replace("agregar-cliente.html")}),jQuery("#cancel").click(function(){window.location.replace("clients.html")});var n=function(e,t,i,a){this.id=e,this.firstName=t,this.lastName=i,this.phone=a};jQuery("form").submit(function(i){i.preventDefault();var a=jQuery("#id").val(),l=jQuery("#first-name").val(),r=jQuery("#last-name").val(),o=jQuery("#phone").val(),c=new n(a,l,r,o);e(a),t(c),window.location.replace("clients.html?action=updated")})});