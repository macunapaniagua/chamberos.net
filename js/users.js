jQuery(document).ready(function(){function e(e){$(".table tbody").append('<tr><td data-label="Username">'+e.username+'</td><td data-label="Name">'+e.name+'</td><td data-label="Password">'+e.password+'</td><td data-label="Actions"><a class="edit-row" href="#"><img src="../images/editar.png"/></a><a class="delete-row" href="#"><img src="../images/eliminar.png"/></a></td></tr>')}function t(e){var t=JSON.parse(localStorage.getItem("users"));for(i=0;i<t.length;i++)if(t[i].username===e)return t.splice(i,1),localStorage.setItem("users",JSON.stringify(t)),!0;return!1}!function(){jQuery("#menu-user-name").html("Hi "+localStorage.getItem("logged_user"));var t=window.location.search.substr("?action=".length);t&&(jQuery("#message-action").html(t),jQuery("#message").show());var r=JSON.parse(window.localStorage.getItem("users"));if(r&&0!=r.length)for(var a=0;a<r.length;a++)e(r[a])}(),jQuery(".edit-row").click(function(){var e=jQuery(this).closest("tr"),t=e.find("td").eq(0).html(),r="editar-user.html?id="+t;window.location.replace(r)}),jQuery(".delete-row").click(function(){var e=jQuery(this).closest("tr"),t=e.find("td").eq(1).html();jQuery("#user-to-delete").html(t),jQuery("#modal-delete").data("row",e).modal("show")}),jQuery("#btnDeleteYes").click(function(){var e=jQuery("#modal-delete").data("row"),r=e.find("td").eq(0).html();t(r)&&e.remove()}),jQuery("#logout").click(function(){localStorage.removeItem("logged_user"),window.location.replace("index.html")}),jQuery("#btn-new").click(function(){window.location.replace("agregar-user.html")})});