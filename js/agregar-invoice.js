jQuery(document).ready(function(){function e(){var e=JSON.parse(window.localStorage.getItem("invoices"));return e?(parseInt(e[e.length-1].id)+1).toString():"3100"}function t(e){var t=JSON.parse(window.localStorage.getItem("invoices"));t?(t.push(e),window.localStorage.setItem("invoices",JSON.stringify(t))):window.localStorage.setItem("invoices",JSON.stringify([e]))}!function(){var e=localStorage.getItem("logged_user");jQuery("#menu-user-name").html("Hi "+e),"admin"!==e&&jQuery(".user-item-to-hide").hide();var t=JSON.parse(localStorage.getItem("clients"));if(t&&0!=t.length)for(var i=jQuery("#clients"),o=0;o<t.length;o++)i.append('<option value="'+t[o].firstName+" "+t[o].lastName+'"/>');else jQuery("#save").prop("disabled",!0),jQuery("#modal").modal("show")}(),jQuery("#logout").click(function(){localStorage.removeItem("logged_user"),window.location.replace("index.html")}),jQuery("#btn-new").click(function(){window.location.replace("agregar-invoice.html")}),jQuery("#cancel").click(function(){window.location.replace("invoices.html")});var i=function(e,t,i,o,n){this.id=e,this.clientName=t,this.date=i,this.details=o,this.amount=n};jQuery("form").submit(function(o){o.preventDefault();var n=e(),a=jQuery("#clients-list").val(),l=jQuery("#date").val(),r=jQuery("#details").val(),c=jQuery("#amount").val(),s=new i(n,a,l,r,c);t(s),window.location.replace("invoices.html?action=added")})});